#!/bin/sh
export QT_QPA_PLATFORMTHEME="qt5ct"
export FREETYPE_PROPERTIES="truetype:interpreter-version=35"
export NO_AT_BRIDGE=1
export LD_LIBRARY_PATH=/usr/local/lib
export DO_NOT_TRACK=1
export ICE2KSYS_SOUND_LOGON="$HOME/.icewm/sounds/logon.wav"
export ICE2KSYS_SOUND_LOGOFF="$HOME/.icewm/sounds/logoff.wav"
export ICE2KSYS_SOUND_ERROR="$HOME/.icewm/sounds/error.wav"
export ICE2KSYS_SOUND_DING="$HOME/.icewm/sounds/ding.wav"
export ICE2KSYS_SOUND_CHIMES="$HOME/.icewm/sounds/chimes.wav"
export QT_ACCESSIBILITY=0

sleep 1
~/.icewm/programs/firstrun/firstrun
xrdb -merge "$HOME/.Xresources"
export GDK_CORE_DEVICE_EVENTS=1

icewm-session -n

gettree() {
	local parent_pid="$1"
	echo -n "$1 "
	local children="$(pgrep -P "$parent_pid")"
	for child_pid in $children; do
		gettree "$child_pid"
	done
}
